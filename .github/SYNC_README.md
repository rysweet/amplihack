# .github/ Directory - Copilot CLI Integration

This directory contains GitHub Copilot CLI integration files for amplihack.

## File Organization

### Symlinks (Zero Duplication)
- `agents/amplihack/` → `../../.claude/agents/amplihack` (**symlink**)
- `agents/skills/*` → `../../.claude/skills/*` (**67 symlinks**)
- `agents/*.md` → `../../.claude/agents/*.md` (**4 symlinks**)

### Wrappers (Zero Logic Duplication)
- `hooks/scripts/*.sh` → Thin bash wrappers calling Python hooks in `.claude/tools/`
- Example: `session-start.sh` (15 lines) calls `session_start.py` (522 lines)

### Generated Files (Build Artifacts)
- `agents/REGISTRY.json` - Generated by `amplihack sync-agents`
- `commands/**/*.md` - Converted from `.claude/commands/` (32 files)

## Why This Approach?

**Philosophy**: Single source of truth with minimal duplication

- **Symlinks**: Used where no conversion needed (agents, skills)
- **Wrappers**: Used where logic reuse possible (hooks call Python)
- **Copies**: Only where format conversion required (commands)

## Maintenance

### After Editing Source Files

**Agents**: Changes immediately visible (symlinks)
**Skills**: Changes immediately visible (symlinks)  
**Hooks**: Changes immediately active (wrappers call Python)
**Commands**: Automatically synced via pre-commit hook! (or run `amplihack sync-commands` manually)

### Auto-Sync

Session start hook checks staleness and can auto-sync. Configure in `.claude/config.json`:
```json
{
  "copilot_auto_sync": "ask"
}
```

## Source of Truth

- **Agents**: `.claude/agents/` (Claude Code format)
- **Hooks**: `.claude/tools/amplihack/hooks/` (Python)
- **Skills**: `.claude/skills/` (Markdown directories)
- **Commands**: `.claude/commands/` (Markdown files)

The `.github/` directory contains references (symlinks/wrappers) or generated artifacts (converted commands).

---

**See**: `docs/architecture/COPILOT_SYNC_STRATEGY.md` for complete strategy.
