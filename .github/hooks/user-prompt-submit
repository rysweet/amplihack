#!/usr/bin/env bash
# GitHub Copilot compatible user-prompt-submit hook
# Wrapper that calls Python implementation in .claude/tools/amplihack/hooks/
#
# This hook runs when user submits a prompt to:
# - Log user prompt
# - Track conversation context
# - Apply prompt transformations (if configured)

set -e

# Get the root directory of the repository
REPO_ROOT="$(git rev-parse --show-toplevel 2>/dev/null)" || {
    echo "Error: Not in a git repository" >&2
    exit 1
}

# Call Python implementation
python3 "${REPO_ROOT}/.claude/tools/amplihack/hooks/user_prompt_submit.py" "$@"
