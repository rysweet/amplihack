#!/usr/bin/env bash
# GitHub Copilot compatible pre-tool-use hook
# Wrapper that calls Python implementation in .claude/tools/amplihack/hooks/
#
# This hook runs before tool execution to:
# - Validate tool parameters
# - Check permissions
# - Log tool invocation

set -e

# Get the root directory of the repository
REPO_ROOT="$(git rev-parse --show-toplevel 2>/dev/null)" || {
    echo "Error: Not in a git repository" >&2
    exit 1
}

# Call Python implementation
python3 "${REPO_ROOT}/.claude/tools/amplihack/hooks/pre_tool_use.py" "$@"
