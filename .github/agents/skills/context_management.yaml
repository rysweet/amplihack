# GitHub Copilot CLI Custom Agent
# Generated from amplihack skill: /home/azureuser/src/amplihack/.claude/skills/context_management/SKILL.md

name: context_management
description: |
  |

model: claude-sonnet-4.5

tools:
  []

activation_keywords:
  []

instructions: |
  # Context Management Skill
  
  ## Purpose
  
  This skill enables proactive management of Claude Code's context window through intelligent token monitoring, context extraction, and selective rehydration. Instead of reactive recovery after compaction, this skill helps users preserve essential context before hitting limits and restore it efficiently when needed.
  
  ## When to Use This Skill
  
  - **Token monitoring**: Check current usage and get recommendations
  - **Approaching limits**: Create snapshots at 70-85% usage
  - **After compaction**: Restore essential context without full conversation
  - **Long sessions**: Preserve key decisions and state proactively
  - **Complex tasks**: Keep requirements and progress accessible
  - **Context switching**: Save state when pausing work
  - **Team handoffs**: Package context for others to continue
  
  ## Quick Start
  
  ### Check Token Status
  
  ```
  User: Check my current token usage
  ```
  
  I'll use the `context_manager` tool to check status:
  
  ```python
  from context_manager import check_context_status
  
  status = check_context_status(current_tokens=<current_count>)
  # Returns: ContextStatus with usage percentage and recommendations
  ```
  
  ### Create a Snapshot
  
  ```
  User: Create a context snapshot named "auth-implementation"
  ```
  
  I'll use the `context_manager` tool to create a snapshot:
  
  ```python
  from context_manager import create_context_snapshot
  
  snapshot = create_context_snapshot(
      conversation_data=<conversation_history>,
      name="auth-implementation"
  )
  # Returns: ContextSnapshot with snapshot_id, file_path, and token_count
  ```
  
  ### Restore Context
  
  ```
  User: Restore context from snapshot <snapshot_id> at essential level
  ```
  
  I'll use the `context_manager` tool to rehydrate:
  
  ```python
  from context_manager import rehydrate_from_snapshot
  
  context = rehydrate_from_snapshot(
      snapshot_id="20251116_143522",
      level="essential"  # or "standard" or "comprehensive"
  )
  # Returns: Formatted context text ready to process
  ```
  
  ### List Snapshots
  
  ```
  User: List my context snapshots
  ```
  
  I'll use the `context_manager` tool to list snapshots:
  
  ```python
  from context_manager import list_context_snapshots
  
  snapshots = list_context_snapshots()
  # Returns: List of snapshot metadata dicts
  ```
  
  ## Detail Levels
  
  When rehydrating context, choose the appropriate detail level:
  
  - **Essential** (smallest): Requirements + current state only (~250 tokens)
  - **Standard** (balanced): + key decisions + open items (~800 tokens)
  - **Comprehensive** (complete): + full decisions + tools used + metadata (~1,250 tokens)
  
  Start with essential and upgrade if more context is needed.
  
  ## Actions
  
  ### Action: `status`
  
  Check current token usage and get recommendations.

# Source: /home/azureuser/src/amplihack/.claude/skills/context_management/SKILL.md
